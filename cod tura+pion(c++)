#include <iostream>
#include <cstdlib>

using namespace std;
char v[10][10];
char r[10][10];

int x,y,t;
char lastmove;
void start()
{
    for(int i=1;i<=8;i++)
    {
        for(int j=1;j<=8;j++)
        {
            v[i][j]='0';
        }
    }
    for(int i=1;i<=8;i++)
    {
        v[2][i]='a';
        v[1][i]='a';
        v[7][i]='p';
    }
    v[8][1]='t';
    v[8][8]='t';
}

void afisare()
{
    system("cls");
    for(int i=1;i<=8;i++)
    {
        for(int j=1;j<=8;j++)
        {
            cout<<v[i][j]<<" ";
        }
        cout<<'\n';
    }
}

void pion()
{
    if(v[x][y]!='p')
    {
        cout<<"EROARE PION "<<x<<" "<<y<<" "<<v[x][y];
        return;
    }
    if(x==7 && v[5][y]=='0')
    {
        v[5][y]='=';
    }
    if(v[x-1][y]=='0')
    {
        v[x-1][y]='=';
    }
    if(v[x-1][y+1]!='0')
    {
        v[x-1][y+1]='9';
    }
    if(v[x-1][y-1]!='0')
    {
        v[x-1][y-1]='9';
    }
}

void mutare()
{
    int a,b;
    cin>>a>>b;
    if(v[a][b]=='=')
    {
        r[a][b]=lastmove;
        r[x][y]='0';
    }
    else if(v[a][b]=='9')
    {
        r[a][b]=lastmove;
        r[x][y]='0';
        cout<<'\n'<<"ai luat o piesa"<<'\n';
    } else
    mutare();

}

void backup()
{
    for(int i=0;i<11;i++)
    {
        for(int j=0;j<11;j++)
        {
            r[i][j]=v[i][j];
        }
    }
}

void tura()
{
    for(int i=x+1;i<9;i++)
    {
        if(v[i][y]=='0')
            v[i][y]='=';
        else
        {
            if(v[i][y]=='a')
                v[i][y]='9';
            break;
        }
    }

    for(int i=x-1;i>0;i--)
    {
        if(v[i][y]=='0')
            v[i][y]='=';
        else
        {
            if(v[i][y]=='a')
                v[i][y]='9';
            break;
        }
    }

    for(int i=y+1;i<9;i++)
    {
        if(v[x][i]=='0')
            v[x][i]='=';
        else
        {
            if(v[x][i]=='a')
                v[x][i]='9';
            break;
        }
    }

    for(int i=y-1;i>0;i--)
    {
        if(v[x][i]=='0')
            v[x][i]='=';
        else
        {
            if(v[x][i]=='a')
                v[x][i]='9';
            break;
        }
    }
}


void calc()
{
    if(v[x][y]=='p')
    {
        pion();
        lastmove='p';
        return;
    }
    if(v[x][y]=='t')
    {
        tura();
        lastmove='t';
        return;
    }
}


void backk()
{
    for(int i=0;i<11;i++)
    {
        for(int j=0;j<11;j++)
        {
            v[i][j]=r[i][j];
        }
    }
}

int main()
{
    start();
    backup();
    while(1)
    {
    backk();
    afisare();
    cin>>x>>y;
    calc();
    //cin>>t;
    afisare();
    mutare();
    }

    return 0;
}
